@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: dark;
  --bg: #07070b;
  --fg: rgba(255,255,255,0.92);
}

html, body {
  height: 100%;
  background: var(--bg);
}

::selection {
  background: rgba(124,92,255,0.35);
}

.noise-overlay {
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
  opacity: 0.12;
}

.reveal {
  will-change: transform, opacity, filter;
}
.reveal-off {
  opacity: 0;
  transform: translate3d(0, 16px, 0) scale(0.99);
  filter: blur(10px);
}
.reveal-on {
  opacity: 1;
  transform: translate3d(0, 0, 0) scale(1);
  filter: blur(0px);
  transition: opacity 900ms cubic-bezier(.16,1,.3,1),
              transform 1000ms cubic-bezier(.16,1,.3,1),
              filter 900ms cubic-bezier(.16,1,.3,1);
}

/* Signature portal entrance */
.portal-wipe {
  background: radial-gradient(circle at 50% 50%,
    rgba(255,255,255,0.0) 0%,
    rgba(255,255,255,0.0) 46%,
    rgba(255,255,255,0.06) 52%,
    rgba(255,255,255,0.0) 62%,
    rgba(255,255,255,0.0) 100%);
  animation: wipe 1550ms cubic-bezier(.16,1,.3,1) forwards;
  opacity: 0.9;
}
@keyframes wipe {
  0% { transform: scale(0.85); opacity: 0.0; }
  18% { opacity: 0.9; }
  65% { transform: scale(1.05); opacity: 0.6; }
  100% { transform: scale(1.22); opacity: 0; }
}

.portal-ring {
  position: absolute;
  width: 520px;
  height: 520px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.04) inset,
    0 0 80px rgba(0,210,255,0.12),
    0 0 110px rgba(124,92,255,0.10);
  animation: ring 1550ms cubic-bezier(.16,1,.3,1) forwards;
  transform: scale(0.9);
  opacity: 0.0;
}
.portal-ring-2 {
  width: 380px;
  height: 380px;
  border-color: rgba(255,255,255,0.10);
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.05) inset,
    0 0 70px rgba(124,92,255,0.12);
  animation-delay: 90ms;
}
.portal-ring-3 {
  width: 260px;
  height: 260px;
  border-color: rgba(255,255,255,0.12);
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.06) inset,
    0 0 60px rgba(0,210,255,0.13);
  animation-delay: 150ms;
}
@keyframes ring {
  0% { opacity: 0; transform: scale(0.88); filter: blur(6px); }
  35% { opacity: 1; }
  75% { transform: scale(1.02); filter: blur(0px); opacity: 0.85; }
  100% { transform: scale(1.22); opacity: 0; filter: blur(0px); }
}

/* Accessibility: if user requests reduced motion, we keep the cinematic visuals but remove transforms/loops */
@media (prefers-reduced-motion: reduce) {
  .reveal-off { opacity: 1; transform: none; filter: none; }
  .reveal-on { transition: none; }
  .portal-wipe, .portal-ring { animation: none; opacity: 0; }
}
