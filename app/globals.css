@tailwind base;
@tailwind components;
@tailwind utilities;

:root{
  color-scheme: dark;
  --bg:#05050a;
  --fg:rgba(255,255,255,.92);
}

/* iOS Safari text scaling */
html { -webkit-text-size-adjust: 100%; }
html,body{ height:100%; background:var(--bg); }
body{ color:var(--fg); overflow-x:hidden; }

::selection{ background: rgba(124,92,255,0.38); }

.noise-overlay{
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
  opacity: 0.10;
}

/* ===== Premium surfaces ===== */
.glass{
  position: relative;
  border-radius: 28px;
  background:
    radial-gradient(circle at 25% 10%, rgba(0,210,255,0.16), transparent 56%),
    radial-gradient(circle at 82% 85%, rgba(124,92,255,0.18), transparent 60%),
    rgba(255,255,255,0.06);
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.06) inset,
    0 28px 90px rgba(0,0,0,0.55);
  border: 1px solid rgba(255,255,255,0.10);
  -webkit-backdrop-filter: blur(14px);
  backdrop-filter: blur(14px);
  overflow: hidden;
}

.glass::before{
  content:"";
  position:absolute; inset:-2px;
  background: linear-gradient(120deg,
    rgba(0,210,255,0.0),
    rgba(0,210,255,0.22),
    rgba(124,92,255,0.18),
    rgba(255,255,255,0.08),
    rgba(0,210,255,0.0)
  );
  opacity: 0.70;
  filter: blur(10px);
  transform: translate3d(0,0,0);
  animation: edge 5.5s linear infinite;
  pointer-events:none;
}

.glass::after{
  content:"";
  position:absolute; inset:0;
  background:
    radial-gradient(circle at 20% 20%, rgba(255,255,255,0.08), transparent 40%),
    radial-gradient(circle at 70% 0%, rgba(255,255,255,0.05), transparent 45%);
  opacity: .85;
  pointer-events:none;
}

@keyframes edge{
  0% { transform: translateX(-22%) translateY(-6%); }
  50%{ transform: translateX(18%) translateY(8%); }
  100%{ transform: translateX(-22%) translateY(-6%); }
}

.pill{
  border-radius: 999px;
  background: rgba(0,0,0,0.24);
  border: 1px solid rgba(255,255,255,0.12);
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
  box-shadow: 0 0 0 1px rgba(255,255,255,0.04) inset;
}

.btn-primary{
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.14);
  background:
    radial-gradient(circle at 20% 20%, rgba(0,210,255,0.18), transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(124,92,255,0.20), transparent 55%),
    rgba(255,255,255,0.08);
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.06) inset,
    0 22px 70px rgba(0,0,0,0.60);
  transition: transform 260ms cubic-bezier(.16,1,.3,1), background 260ms cubic-bezier(.16,1,.3,1);
}
.btn-primary:active{ transform: translateY(1px) scale(.99); }

.btn-ghost{
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.22);
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
}

.reveal{ will-change: transform, opacity, filter; }
.reveal-off{
  opacity:0;
  transform: translate3d(0, 18px, 0) scale(.992);
  filter: blur(12px);
}
.reveal-on{
  opacity:1;
  transform: translate3d(0, 0, 0) scale(1);
  filter: blur(0px);
  transition:
    opacity 900ms cubic-bezier(.16,1,.3,1),
    transform 1100ms cubic-bezier(.16,1,.3,1),
    filter 900ms cubic-bezier(.16,1,.3,1);
}

/* Portal entrance */
.portal-wipe{
  background: radial-gradient(circle at 50% 50%,
    rgba(255,255,255,0.0) 0%,
    rgba(255,255,255,0.0) 44%,
    rgba(255,255,255,0.10) 52%,
    rgba(255,255,255,0.0) 64%,
    rgba(255,255,255,0.0) 100%);
  animation: wipe 1300ms cubic-bezier(.16,1,.3,1) forwards;
  opacity: 0.95;
}
@keyframes wipe{
  0%{ transform: scale(.86); opacity: 0.0; }
  16%{ opacity: 0.95; }
  70%{ transform: scale(1.06); opacity: 0.55; }
  100%{ transform: scale(1.25); opacity: 0; }
}

.portal-ring{
  position:absolute;
  width: 520px; height: 520px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.05) inset,
    0 0 90px rgba(0,210,255,0.14),
    0 0 120px rgba(124,92,255,0.12);
  animation: ring 1300ms cubic-bezier(.16,1,.3,1) forwards;
  transform: scale(.90);
  opacity: 0.0;
}
.portal-ring-2{ width: 390px; height: 390px; animation-delay: 70ms; }
.portal-ring-3{ width: 270px; height: 270px; animation-delay: 130ms; }
@keyframes ring{
  0%{ opacity: 0; transform: scale(.88); filter: blur(7px); }
  35%{ opacity: 1; }
  75%{ transform: scale(1.03); filter: blur(0px); opacity: 0.85; }
  100%{ transform: scale(1.22); opacity: 0; filter: blur(0px); }
}

/* Still respect reduced-motion: keep beauty, remove motion */
@media (prefers-reduced-motion: reduce){
  .reveal-off{ opacity:1; transform:none; filter:none; }
  .reveal-on{ transition:none; }
  .portal-wipe,.portal-ring{ animation:none; opacity:0; }
  .glass::before{ animation:none; opacity:.55; }
}
